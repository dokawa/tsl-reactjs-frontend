[{"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\index.js":"1","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\serviceWorker.js":"2","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\app\\store.js":"3","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\App.tsx":"4","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\RouterManager.tsx":"5","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\Login.tsx":"6","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\Guard.tsx":"7","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\posts\\AddPostForm.tsx":"8","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\posts\\PostsList.tsx":"9","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\navbar\\Navbar.tsx":"10","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\posts\\postsSlice.tsx":"11","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\RegisterAsGuest.tsx":"12","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\Register.tsx":"13","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\Logout.tsx":"14","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\TokenStorage.tsx":"15","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\posts\\useInfiniteScroll.tsx":"16"},{"size":623,"mtime":1607194333318,"results":"17","hashOfConfig":"18"},{"size":5004,"mtime":1607194333321,"results":"19","hashOfConfig":"18"},{"size":187,"mtime":1607477222328,"results":"20","hashOfConfig":"18"},{"size":361,"mtime":1607305522866,"results":"21","hashOfConfig":"18"},{"size":1530,"mtime":1607477233285,"results":"22","hashOfConfig":"18"},{"size":2619,"mtime":1607478669157,"results":"23","hashOfConfig":"18"},{"size":440,"mtime":1607477887239,"results":"24","hashOfConfig":"18"},{"size":1187,"mtime":1607477222368,"results":"25","hashOfConfig":"18"},{"size":1915,"mtime":1607478587443,"results":"26","hashOfConfig":"18"},{"size":272,"mtime":1607477222390,"results":"27","hashOfConfig":"18"},{"size":1337,"mtime":1607477222388,"results":"28","hashOfConfig":"18"},{"size":1486,"mtime":1607477222365,"results":"29","hashOfConfig":"18"},{"size":2498,"mtime":1607477961966,"results":"30","hashOfConfig":"18"},{"size":626,"mtime":1607477222352,"results":"31","hashOfConfig":"18"},{"size":239,"mtime":1607477222366,"results":"32","hashOfConfig":"18"},{"size":759,"mtime":1607478521652,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"1r9pqq5",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"43"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"43"},"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\index.js",[],["70","71"],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\serviceWorker.js",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\app\\store.js",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\App.tsx",[],["72","73"],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\RouterManager.tsx",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\Login.tsx",["74"],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\Guard.tsx",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\posts\\AddPostForm.tsx",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\posts\\PostsList.tsx",["75"],"import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './PostList.css';\nimport axios from \"axios\";\nimport { selectPosts, addPosts } from './postsSlice';\nimport { getToken } from '../login/TokenStorage';\nimport useInfiniteScroll from \"./useInfiniteScroll\";\n\n\nexport const PostsList = () => {\n\n  const token = getToken();\n\n  const dispatch = useDispatch();\n\n  const [isFetching, setIsFetching] = useInfiniteScroll(fetchMoreListItems);\n  let [page, setPage] = useState(1)\n\n\n\n  const sendRequest = (page: number) => { axios.get(\"http://localhost:8000/?page=\" + page, \n    {\n      headers: {\n      'Authorization': `Token ${token}` \n      }\n    }) \n    .then((res) => { \n        let data = res.data;\n        dispatch(addPosts(data['results']));\n        console.log(data);\n    }) \n    .catch((err) => {}) }\n\n\n\n\n  const renderedPosts = () => {\n    return(posts.map(post => (\n      <article className=\"post-excerpt\" key={post.id}>\n        <div className=\"post-username\">{post.owner}</div>\n        <div className=\"post-content\">{post.message}</div>\n      </article>\n    )))\n  }\n\n  // const listInnerRef = useRef();\n\n  // const onScroll = () => {\n  //   if (listInnerRef.current) {\n  //     const { scrollTop, scrollHeight, clientHeight } = listInnerRef.current;\n  //     if (scrollTop + clientHeight === scrollHeight) {\n  //       // TO SOMETHING HERE\n  //       console.log('Reached bottom')\n  //     }\n  //   }\n  // };\n\n\n  function fetchMoreListItems() {\n    setTimeout(() => {\n      setPage(p => p + 1)\n      sendRequest(page)\n      setIsFetching(false);\n    }, 2000);\n  }\n\n\n    \n  useEffect(() => { \n    sendRequest(page) \n    setPage(p => p + 1)\n  }, [page, sendRequest])\n\n  const posts = useSelector(selectPosts);\n\n\n  return (\n    <section className=\"posts-list\">\n      { renderedPosts() }\n      {isFetching && 'Fetching more items...'}\n    </section>\n  )\n}","E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\navbar\\Navbar.tsx",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\posts\\postsSlice.tsx",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\RegisterAsGuest.tsx",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\Register.tsx",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\Logout.tsx",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\login\\TokenStorage.tsx",[],"E:\\Projects\\tsl-reactjs-frontend\\reactjs-frontend\\src\\features\\posts\\useInfiniteScroll.tsx",["76","77"],"import { useState, useEffect } from 'react';\r\n\r\nconst useInfiniteScroll = (callback:any) => {\r\n  const [isFetching, setIsFetching]:[boolean, any]  = useState(false);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, [handleScroll]);\r\n\r\n  useEffect(() => {\r\n    if (!isFetching) return;\r\n    callback(() => {\r\n      console.log('called back');\r\n    });\r\n  }, [isFetching, callback]);\r\n\r\n  function handleScroll() {\r\n    if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || isFetching) return;\r\n    setIsFetching(true);\r\n  }\r\n\r\n  return [isFetching, setIsFetching];\r\n};\r\n\r\nexport default useInfiniteScroll;",{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":51,"column":11,"nodeType":"84","messageId":"85","endLine":51,"endColumn":17},{"ruleId":"86","severity":1,"message":"87","line":21,"column":9,"nodeType":"88","endLine":32,"endColumn":26,"suggestions":"89"},{"ruleId":"86","severity":1,"message":"90","line":9,"column":6,"nodeType":"91","endLine":9,"endColumn":8,"suggestions":"92"},{"ruleId":"86","severity":1,"message":"93","line":16,"column":6,"nodeType":"91","endLine":16,"endColumn":18,"suggestions":"94"},"no-native-reassign",["95"],"no-negated-in-lhs",["96"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ReturnStatement","expectedReturnValue","react-hooks/exhaustive-deps","The 'sendRequest' function makes the dependencies of useEffect Hook (at line 72) change on every render. To fix this, wrap the definition of 'sendRequest' in its own useCallback() Hook.","VariableDeclarator",["97"],"React Hook useEffect has a missing dependency: 'handleScroll'. Either include it or remove the dependency array.","ArrayExpression",["98"],"React Hook useEffect has a missing dependency: 'callback'. Either include it or remove the dependency array. If 'callback' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["99"],"no-global-assign","no-unsafe-negation",{"desc":"100","fix":"101"},{"desc":"102","fix":"103"},{"desc":"104","fix":"105"},"Wrap the definition of 'sendRequest' in its own useCallback() Hook.",{"range":"106","text":"107"},"Update the dependencies array to be: [handleScroll]",{"range":"108","text":"109"},"Update the dependencies array to be: [callback, isFetching]",{"range":"110","text":"111"},[555,861],"useCallback((page: number) => { axios.get(\"http://localhost:8000/?page=\" + page, \n    {\n      headers: {\n      'Authorization': `Token ${token}` \n      }\n    }) \n    .then((res) => { \n        let data = res.data;\n        dispatch(addPosts(data['results']));\n        console.log(data);\n    }) \n    .catch((err) => {}) })",[319,321],"[handleScroll]",[449,461],"[callback, isFetching]"]